<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>接口测试中心</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="../../static/layui/css/layui.css">
    <link rel="import" href="../nav/navTop.html" id="navTopPage">
    <link rel="import" href="../nav/navIF.html" id="navIFPage">
</head>
<body>
<div class="layui-layout layui-layout-admin">
    <div class="layui-body">
        <div id="bread crumb">
            <span class="layui-breadcrumb">
            <p>&nbsp</p>
            <a href="index.html">&nbsp&nbsp&nbsp&nbsp首页</a>
            <a href="">接口测试</a>
            <a><cite><b>接口管理</b></cite></a>
            <hr />
            </span>
        </div>

        <form class="layui-form layui-form-pane1" action="IFTestByCasePage.html" lay-filter="first" id="urlbar">
            <fieldset class="layui-elem-field" style="background-color: #f2f2f2">
            <legend>CaseName</legend>
            <div class="layui-field-box">
                <div class="layui-row layui-col-space20" >
                    <span   class="layui-col-md1" id="method-select" >
                        <select name="quiz" lay-verify="required" lay-verType="tips">
                            <option value="0">GET</option>
                            <option value="1">POST</option>
                        </select>
                    </span>
                    <span class="layui-col-md7" id="address-text">
                        <input type="text" name="title" lay-verify="required|title" lay-reqText="标题不能为空"
                               required placeholder="请输入地址" autocomplete="off" class="layui-input" >
                    </span>
                    <span class="layui-col-md1" id="submit-btn">
                        <button class="layui-btn" lay-submit lay-filter="formDemo">立即提交</button>
                    </span>
                    <span class="layui-col-md1" id="reset-btn">
                        <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                    </span>

                </div>

            </div>
            </fieldset>
        </form>

        <div class="layui-tab layui-tab-brief" id="params" lay-filter="docDemoTabBrief">
              <ul class="layui-tab-title">
                <li class="layui-this">Params</li>
                <li>Headers</li>
                <li>Boby</li>
                <li>Test</li>
              </ul>
              <div class="layui-tab-content" style="height: 100px;">
                <div class="layui-tab-item layui-show">
                    <table id="paramTable" lay-filter="paramTable"></table>
                </div>
                <div class="layui-tab-item">2</div>
                <div class="layui-tab-item" id="resboby">
                    <div class="layui-col-lg10">
                        <textarea name="" required lay-verify="required" placeholder="请输入" class="layui-textarea"></textarea>
                    </div>
                </div>
                <div class="layui-tab-item">4</div>
              </div>
            </div>

        <div class="layui-row" id="response">
            <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                <legend style="color:#8D8D8D;">Response</legend>
            </fieldset>
            <div class="layui-col-lg10">
                <pre class="layui-code" lay-height="150px">//代码区域
                    Lay.fn.event = function(modName, events, params){
                      var that = this, result = null, filter = events.match(/\(.*\)$/)||[]; //提取事件过滤器
                      var set = (events = modName + '.'+ events).replace(filter, ''); //获取事件本体名
                      var callback = function(_, item){
                        var res = item &amp;&amp; item.call(that, params);
                        res === false &amp;&amp; result === null &amp;&amp; (result = false);
                      };
                      layui.each(config.event[set], callback);
                      filter[0] &amp;&amp; layui.each(config.event[events], callback); //执行过滤器中的事件
                      return result;
                    };
                </pre>
            </div>
        </div>
    </div>
</div>
<script src="../../static/layui/layui.js"></script>
<script type="text/html" id="paramTableOperation">
<button class="layui-btn layui-btn-sm" lay-event="add">添加</button>
<button class="layui-btn layui-btn-sm" lay-event="delete">删除</button>
</script>
<script>
document.write(navTopPage.import.body.innerHTML);
document.write(navIFPage.import.body.innerHTML);
layui.use(['element','form', 'layedit', 'laydate','table'], function(){
var element = layui.element
    ,form = layui.form
    ,layedit = layui.layedit
    ,laydate = layui.laydate
    ,table = layui.table
    ,layer = layui.layer;

    //参数表格
    table.render({
        elem: '#paramTable'
        ,url: '../../test/table/params_demo.json'
        ,height:'315'
        ,cols: [[
          {field:'params',  title: 'Params', width:'20%', edit: 'text'}
          ,{field:'values', title: 'Values', width: '60%', edit: 'text'}
          ,{field:'operation', title: 'Operation', width: '20%', toolbar: '#paramTableOperation'}
        ]]
    });

    //修改表格内容
    table.on('edit(paramTable)', function(obj){
    var value = obj.value //得到修改后的值
    ,data = obj.data //得到所在行所有键值
    ,field = obj.field; //得到字段
    layer.msg('[ID: '+ data.id +'] ' + field + ' 字段更改为：'+ value);
  });

    //监听事件
    table.on('row(paramTable)', function(obj){
      console.log(obj.tr) //得到当前行元素对象
      console.log(obj.data) //得到当前行数据
      obj.del(); //删除当前行
      //obj.update(fields) //修改当前行数据
    });

        //监听提交
        form.on('submit(*)', function(data){
        console.log(data)
        alert(JSON.stringify(data.field));
        return false;
        });


});
</script>
</body>

</html>